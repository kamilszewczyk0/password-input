(this["webpackJsonppassword-input"]=this["webpackJsonppassword-input"]||[]).push([[0],{22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,a=n(0),u=n.n(a),c=n(13),i=n.n(c),s=(n(22),function(e,t,n){var r=t&&t.every((function(e){return e&&e.length})),a=e&&e.every((function(n,r){return e[r]===t[r]}));return r?n(a):null}),o=n(9),l=n(17),p=function(e,t){return Math.floor(Math.random()*(t+1-e)+e)},d=function(e){var t=e.split("").length,n=function(e,t){for(var n=new Set;n.size<e;)n.add(Math.floor(Math.random()*t));return n}(p(.6*t,.4*t),t);return Object(l.a)(n.values())},f=function(e){var t,n=function(e){var t=e.split("").length;return p(2*t,t)}(e),r=d(e).sort((function(e,t){return e-t})),a=e.split(""),u=(t=r,a.filter((function(e,n){return t.some((function(e){return e===n}))})));return[n,Object.fromEntries(r.map((function(e,t){return[r[t],""]}))),Object.fromEntries(r.map((function(e,t){return[r[t],u[t]]})))]},b=function(e,t,n){var r=function(e){if(e.current){var t=e.current.filter((function(e){return e.current&&!e.current.disabled&&!e.current.value}));t.length&&t[0].current&&t[0].current.focus()}};return[function(n){e({type:"ON_CHANGE",field:n.target.name,payload:n.target.value}),r(t)},function(n){e({type:"SHOW_HIDE_PASSWORD"}),setTimeout((function(){r(t)}),0)},function(a){for(var u in n)n.hasOwnProperty(u)&&e({type:"ON_CHANGE",field:u,payload:""});setTimeout((function(){r(t)}),0)}]},j=n(5),O=n(2),h=function(e,t){switch(t.type){case"INIT_VALUES":return Object(O.a)(Object(O.a)({},e),{},{inputValues:t.payload});case"ON_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{inputValues:Object(O.a)(Object(O.a)({},e.inputValues),{},Object(j.a)({},t.field,t.payload))});case"LOAD_INPUTS":return Object(O.a)(Object(O.a)({},e),{},{inputsToIterate:new Array(t.payload).fill("")});case"SHOW_HIDE_PASSWORD":return Object(O.a)(Object(O.a)({},e),{},{passwordVisible:!e.passwordVisible});case"SET_REFS":return Object(O.a)(Object(O.a)({},e),{},{inputRefsCollection:t.payload});default:return e}},v={inputValues:{},inputsToIterate:[],passwordVisible:!1,inputRefsCollection:{}},g=function(e,t){return e.some((function(e){return e===t}))},w=function(e){var t=Object(a.useMemo)((function(){return f(e)}),[e]),n=Object(o.a)(t,3),r=n[0],u=n[1],c=n[2],i=Object(a.useReducer)(h,v),s=Object(o.a)(i,2),l=s[0],p=l.inputValues,d=l.inputsToIterate,j=l.passwordVisible,O=l.inputRefsCollection,w=s[1],y=b(w,O,p),m=Object(o.a)(y,3),S=m[0],x=m[1],V=m[2],A=Object(a.useRef)(null);A.current=d.map((function(e,t){var n;return null!==(n=A.current[t])&&void 0!==n?n:Object(a.createRef)()}));var E=Object(a.useMemo)((function(){return Object.values(c)}),[c]),I=Object(a.useMemo)((function(){return Object.values(p)}),[p]),C=Object(a.useMemo)((function(){return Object.keys(c).map((function(e){return parseInt(e,10)}))}),[c]);Object(a.useEffect)((function(){w({type:"LOAD_INPUTS",payload:r})}),[w,r]),Object(a.useEffect)((function(){w({type:"INIT_VALUES",payload:u})}),[u]),Object(a.useEffect)((function(){w({type:"SET_REFS",payload:A})}),[w,A]);var R={innerAppState:{inputsToIterate:d,passwordVisible:j},givenData:{passwordValues:E,activeIndexesArray:C,isActive:g,inputRef:A,inputValues:p},inputsData:{givenValues:I},actions:{handleButtonClick:x,handleResetClick:V,handleChange:S}};return{innerAppState:R.innerAppState,givenData:R.givenData,inputsData:R.inputsData,actions:R.actions}},y=n(6),m=n(7),S=m.a.input(r||(r=Object(y.a)(["\n  width: 45px;\n  height: 65px;\n  border: 1px solid #000;\n  text-align: center;\n  font-size: 35px;\n  margin: 5px;\n\n  &:disabled {\n    background-color: lightgrey;\n    border: none;\n    height: 67px;\n  }\n"]))),x=n(1),V=function(e){var t=e.password,n=e.onSuccess,r=w(t),a=r.innerAppState,u=a.inputsToIterate,c=a.passwordVisible,i=r.givenData,o=i.passwordValues,l=i.activeIndexesArray,p=i.isActive,d=i.inputRef,f=i.inputValues,b=r.inputsData.givenValues,j=r.actions,O=j.handleButtonClick,h=j.handleResetClick,v=j.handleChange;return 0===u.length?null:Object(x.jsxs)(x.Fragment,{children:[u.map((function(e,t){return Object(x.jsx)(S,{autoFocus:t===l[0],ref:d.current[t],maxLength:parseInt("1"),name:t.toString(),disabled:!p(l,t),onChange:v,value:f[t],type:c?"text":"password"},t)})),Object(x.jsxs)("button",{onClick:O,children:[c?"Hide":"Show"," password"]}),Object(x.jsx)("button",{onClick:h,children:"Reset password"}),Object(x.jsx)("p",{children:s(o,b,n)})]})},A="password",E=function(e){switch(e){case!0:return"Password correct";case!1:return"Enter correct password";default:return null}};var I,C=function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:["Correct password: ",A]}),Object(x.jsx)(V,{password:A,onSuccess:E})]})},R=m.a.div(I||(I=Object(y.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));i.a.render(Object(x.jsx)(u.a.StrictMode,{children:Object(x.jsx)(R,{children:Object(x.jsx)(C,{})})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.04e3cb8c.chunk.js.map